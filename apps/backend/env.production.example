# ============================================
# Variables de Entorno - Producción
# ============================================
# Este archivo contiene ejemplos de las variables de entorno necesarias
# para ejecutar la aplicación en producción con Docker/Dokploy.
#
# IMPORTANTE: 
# - NO commitees este archivo con valores reales
# - Reemplaza los valores de ejemplo con tus valores reales
# - En Dokploy, configura estas variables desde el panel de administración
# ============================================

# ============================================
# Configuración de la Aplicación API
# ============================================

# Entorno de ejecución (production, development, test)
NODE_ENV=production

# Puerto en el que la aplicación escuchará
# Por defecto: 5000
PORT=5000

# URL de conexión a la base de datos PostgreSQL
# Formato: postgresql://usuario:contraseña@host:puerto/nombre_bd?sslmode=require
# Ejemplo para producción con SSL:
DATABASE_URL=postgresql://pmd_user:TU_CONTRASENA_SEGURA_AQUI@postgres:5432/pmd_management?sslmode=require

# Secreto para firmar tokens JWT
# IMPORTANTE: Debe ser una cadena segura y aleatoria de al menos 32 caracteres
# Genera uno con: openssl rand -base64 32
JWT_SECRET=TU_JWT_SECRET_SUPER_SEGURO_DE_AL_MENOS_32_CARACTERES_AQUI

# Ejecutar migraciones automáticamente al iniciar (true/false)
# Por defecto: true (ejecuta migraciones al iniciar el contenedor)
RUN_MIGRATIONS=true

# Ejecutar seed automáticamente al iniciar (true/false)
# Por defecto: false (NO ejecuta seed por defecto en producción)
# ⚠️ IMPORTANTE: Solo activa esto en el primer despliegue o cuando necesites resetear datos
# El seed crea usuarios por defecto con contraseñas conocidas (password123)
RUN_SEED=false

# ============================================
# Configuración de PostgreSQL (Docker Compose)
# ============================================
# Estas variables son necesarias si usas docker-compose para levantar PostgreSQL
# Si usas una base de datos externa, solo necesitas DATABASE_URL

# Nombre de la base de datos
POSTGRES_DB=pmd_management

# Usuario de PostgreSQL
POSTGRES_USER=pmd_user

# Contraseña de PostgreSQL
# IMPORTANTE: Usa una contraseña segura en producción
POSTGRES_PASSWORD=TU_CONTRASENA_POSTGRES_SEGURA_AQUI

# Argumentos adicionales para inicialización (opcional)
# POSTGRES_INITDB_ARGS=--encoding=UTF8 --locale=es_ES.UTF-8

# ============================================
# Notas para Dokploy
# ============================================
# En Dokploy, configura estas variables desde:
# Dashboard > Tu Aplicación > Environment Variables
#
# Variables mínimas requeridas:
# - NODE_ENV=production
# - PORT=5000 (o el puerto que Dokploy asigne)
# - DATABASE_URL=postgresql://...
# - JWT_SECRET=...
#
# Variables opcionales para automatización:
# - RUN_MIGRATIONS=true (por defecto, ejecuta migraciones al iniciar)
# - RUN_SEED=false (por defecto, NO ejecuta seed - solo activar en primer despliegue)
#
# Si PostgreSQL está en el mismo docker-compose, también necesitas:
# - POSTGRES_DB
# - POSTGRES_USER
# - POSTGRES_PASSWORD
# ============================================

